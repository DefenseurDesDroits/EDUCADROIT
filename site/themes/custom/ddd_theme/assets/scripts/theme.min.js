"use strict";var Theme={};Theme={defaults:{carousel:{items:1,nav:!0,dots:!0,responsiveClass:!0,navText:['<span class="sr-only">Précédent</span>','<span class="sr-only">Suivant</span>']}},init:function(){this.domElement(),this.bindEvents(),this.handlePageOverlay(),this.handleCarouselGallery(),this.styledSelect(),this.initNavMain(),this.valign(),this.mPopup(),this.inputFile(),this.formChosen(),this.waypoints(),this.cookies(),this.windowRezise()},domElement:function(){this.$body=$("body"),this.$page=$(".page-container"),this.$btnMenu=$("#navbar-toggle"),this.$nav=$("#nav"),this.$carouselGallery=$("#carousel-gallery")},bindEvents:function(){this.$btnMenu.on("click",this.handleNavbar.bind(this)),this.$page.on("click",".page-overlay",this.handleNavbar.bind(this))},windowRezise:function(){$(window).on("resize",function(a){Theme.initNavMain(),Theme.valign(),Theme.waypoints()})},waypoints:function(){var a=$(".stick-download");if(0!==a.length)if(document.body.offsetWidth>991){setTimeout(function(){a.addClass("stick-show")},3600);$(".main").waypoint(function(b){a.fadeOut()},{offset:"-200px"})}else a.fadeOut()},cookies:function(){function a(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"}function b(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null}$(".stick-download .btn").on("click",function(){a("cookiesStick","validate",7),$(".stick-download").fadeOut()}),"validate"!==b("cookiesStick")&&$(".stick-download").fadeIn(),$(".disclaimer .close").on("click",function(){a("cookiesDisclaimer","validate",7),$(".disclaimer").fadeOut(),setTimeout(function(){$(".page-content").removeAttr("style")},400)}),"validate"!==b("cookiesDisclaimer")&&($(".disclaimer").fadeIn(),setTimeout(function(){var a=$(".header").height();$(".page-content").css("padding-top",a)},400))},handleAriaExpanded:function(a){var b=$(a);"false"==b.attr("aria-expanded")?(b.attr("aria-expanded","true"),b.focus()):b.attr("aria-expanded","false")},handlePageOverlay:function(){var a=document.createElement("div");a.className="page-overlay",this.$page.append(a)},initNavMain:function(){var a=$("#nav .nav-quick"),b=$("#nav .nav-main");document.body.offsetWidth<992?(this.$nav.css("height",a.height()+b.height()+20),a.hide(),b.hide()):this.$nav.removeAttr("style")},handleNavbar:function(){document.body.offsetWidth<992&&(this.$page.is(".open")?setTimeout(function(){$("#nav .nav-quick, #nav .nav-main").hide()},400):$("#nav .nav-quick, #nav .nav-main").show(),this.$page.toggleClass("open"),this.handleAriaExpanded(this.$btnMenu))},styledSelect:function(){var a=$(".form-select");a.length&&a.wrap('<div class="styled-select" />')},valign:function(){$(".valign").matchHeight()},mPopup:function(){$(".open-popup-link").magnificPopup({type:"inline",midClick:!0})},inputFile:function(){$(".inputfile").each(function(){var a=$(this),b=a.next("label"),c=b.html();a.on("change",function(a){var d="";this.files&&this.files.length>1?d=(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):a.target.value&&(d=a.target.value.split("\\").pop()),d?b.find("span").html(d):b.html(c)})})},formChosen:function(){var a=$(".form-chosen"),b=a.find(".form-url"),c=a.find(".input-url"),d=a.find(".form-download"),e=a.find(".input-download");b.hide(),d.hide(),c.on("click",function(){b.show(),d.hide()}),e.on("click",function(){b.hide(),d.show()})},handleCarouselGallery:function(a){var b=this.$carouselGallery,c={items:1,nav:!0,responsiveClass:!0,navText:['<span class="sr-only">Précédent</span>','<span class="sr-only">Suivant</span>'],dots:!1,mouseDrag:!1,touchDrag:!1,smartSpeed:450,autoplay:!1,animateOut:"fadeOut",autoHeight:!0,loop:!0,afterInit:function(){b.find(".owl-item").attr("aria-selected","false").attr("tabindex","0"),b.attr("tabindex","0"),b.find(".owl-item").on("focus",function(){b.find(".owl-item").attr("aria-selected","false"),$(this).attr("aria-selected","true")}),b.find(".owl-wrapper-outer").append("")}};0!==b.length&&(a=$.extend(this.defaults.carousel,c,a),$("body").waitForImages(function(){b.owlCarousel(a),b.trigger("play.owl.carousel",1e3);var c=b.find(".owl-nav"),d=c.html().split("div").join('button type="button" aria-hidden="true"');c.replaceWith('<div class="owl-nav">'+d+"</div>"),b.find(".owl-next").click(function(){b.trigger("next.owl.carousel")}),b.find(".owl-prev").click(function(){b.trigger("prev.owl.carousel")});var e=b,f=$(".section-gallery .pause"),g=$(".section-gallery .resume");f.on("click",function(){e.trigger("stop.owl.autoplay"),g.show(),f.hide()}),g.on("click",function(){e.trigger("play.owl.autoplay"),f.show(),g.hide()});var h=$(".manual-gallery");if(0!==h.length){h.find(".summary li a").on("click",function(a){a.preventDefault();var c=$(this),d=c.closest("li").index();b.trigger("to.owl.carousel",[d,500,!0]),$(".show-summary .summary").hide()});var i=$(".show-summary");i.find(".btn").on("click",function(){i.find(".summary").fadeToggle()})}b.find(".owl-item").not(".active").attr("aria-hidden","true").attr("aria-selected","false"),b.find(".owl-item").not(".active").find("a").attr("tabindex","-1"),b.on("initialized.owl.carousel changed.owl.carousel refreshed.owl.carousel",function(a){if(a.namespace){var c=a.relatedTarget;a.target,c.current();b.find(".owl-item").not(".active").not(".cloned").removeAttr("aria-hidden").attr("aria-selected","true"),b.find(".owl-item").not(".active").not(".cloned").find("a").removeAttr("tabindex"),b.find(".owl-item.active").attr("aria-hidden","true").attr("aria-selected","false"),b.find(".owl-item.cloned").attr("aria-hidden","true").attr("aria-selected","false"),b.find(".owl-item.active").find("a").attr("tabindex","-1"),b.find(".owl-item.cloned").find("a").attr("tabindex","-1")}})}))}},function(a){a(document).ready(function(){Theme.init()})}(jQuery);